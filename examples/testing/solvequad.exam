{
	name: Solve quadratic question
	questions: [
		{
			name: solve quadratic
			variables: {a: random(2..5)
				c1: "switch(f=1, random(1..6),f=2,random(1,3,5,7,9),f=3,random(1,2,5,7,8),f=4,random(1,3,5,7,9),f=6, random(1,5,7,8),f=9,random(1,2,4,7,8),f=8,random(1,3,5,7,9),f=12,random(1,5,7),random(1,3,5,7))"				
				c: "c1*s3"
				d1:"switch(f=1, random(1..6),f=2,random(1,3,5,7,9),f=3,random(1,2,5,7,8),f=4,random(1,3,5,7,9),f=6, random(1,5,7,8),f=9,random(1,2,4,7,8),f=8,random(1,3,5,7,9),f=12,random(1,5,7),random(1,3,5,7))"
				d: "if((a*d1)^2=(b*c)^2, max(d1+1,random(1..5))*s3,d1*s3)"
				s3:"random(1,-1)"
				b:"random(1..4)"				
				f: "a*b"
				s1: "random(1,-1)"
				s2:"random(1,-1)"
				n1: "b*c+a*d"
				n2: "b*c-a*d"
				n3: "2*a*b"
				n5: "a*b"
				n4: "abs(n2)"
				disc: "(b*c+a*d)^2-4*a*b*c*d"
				rdis:"switch(disc=0,'The discriminant is '+ 0+' and so we get two repeated roots in this case.',disc<0, 'There are no real roots.','The roots exist and are distinct. ')"
				rep: "switch(disc=0,'repeated', ' ')"
				
				}	
			statement: """Find the roots of the following quadratic equation."""
			
			parts: [
				{
					type: GapFill
					prompt: 
			"""\[q(x)=\simplify[1111110111111111]{{a*b} * x ^ 2 + ( {-b*c-a * d}) * x + {c * d}}\]
			The least root is $x=\;$ [[0]].    The greatest root is $x=\;$ [[1]]
			You can get more information on solving a quadratic by clicking on Steps. You will lose 1 mark if you do so.
			Enter the least root first.  If the roots are equal, enter the root in both boxes.  Enter the roots as fractions or integers, not as decimals.

"""
					gaps: [ 
						{type: jme
						answer:"{n1-n4}/{2*a*b}"
						answersimplification: "1111111111111111"
						notallowed:{strings:[.],message: input numbers as fractions or integers not as a decimals}
						checkingtype: absdiff
						checkingaccuracy:0.0001
						marks: 1}
						{type: jme
						answer:"{n1+n4}/{2*a*b}"
						answersimplification: "1111111111111111"
						notallowed:{strings:[.],message: input numbers as fractions or integers not as a decimals}
						checkingtype: absdiff
						checkingaccuracy:0.0001
						marks: 1}
					]
					steps: [
						{
							type: information
							prompt: """Finding the roots by factorisation,

Finding a factorisation of a quadratic $q(x)=a(x-r)(x-s)$ where $a$ is the coefficient of $x^2$ gives the roots $x=r$, $x=s$ immendiately.

If you cannot find a factorisation then there are several other methods you can use.

You can find the roots by using the formula for finding the roots of a general quadratic equation $ax^2+bx+c=0$

The two roots are 

 \[ x = \frac{-b +\sqrt{b^2-4ac}}{2a}\mbox{  and  } x = \frac{-b -\sqrt{b^2-4ac}}{2a}\]
 there are three main types of solutions depending upon the value of the discriminant $\Delta=b^2-4ac$

1. $\Delta >0$. The roots are real and distinct  

2. $\Delta=0$.  The roots are real and equal. Their value is $\frac{-b}{2a}$ 

3. $\Delta <0$. There are no real roots. The root are complex and form a complex conjugate pair.

"""
						}	 
					]
					stepspenalty: 0.5
				}	
			]
			advice: 
					"""Direct Factorisation

If you can spot a direct factorisation then this is the quickest way to do this question.

For this example we have the factorisation

\[\simplify{{a*b} * x ^ 2 + ( {-b*c-a * d}) * x + {c * d} = ({a} * x + { -c}) * ({b} * x + { -d})}\]

Hence we find the roots:
\[\begin{eqnarray}
x&=& \simplify{{n1-n4}/{2*a*b}}\\
x&=& \simplify{{n1+n4}/{2*a*b}}
\end{eqnarray} \] 

Other Methods.

There are several methods of finding the roots - here are the main methods.

Method 1: Finding the roots of a quadratic using the standard formula

We can use the following formula for finding the roots of a general quadratic equation $ax^2+bx+c=0$

The two roots are 

 \[ x = \frac{-b +\sqrt{b^2-4ac}}{2a}\mbox{  and  } x = \frac{-b -\sqrt{b^2-4ac}}{2a}\]
 there are three main types of solutions depending upon the value of the discriminant $\Delta=b^2-4ac$

1. $\Delta >0$. The roots are real and distinct  

2. $\Delta=0$.  The roots are real and equal. Their common value is $-\frac{b}{2a}$ 

3. $\Delta <0$. There are no real roots. The root are complex and form a complex conjugate pair.

For this question the discriminant of $\simplify{{a*b}x^2+{-b*c-a*d}x+{c*d}}$ is $\Delta = \simplify{{a}^2-{b}^2}=\var{disc}$

{rdis}.

So the {rep} roots are:

\[\begin{eqnarray}
x = \frac{\var{n1} - \sqrt{\var{disc}}}{\var{n3}} &=& \frac{\var{n1} - \var{n4} }{\var{n3}} &=& \simplify{{n1 - n4}/ {n3}}\\
x = \frac{\var{n1} + \sqrt{\var{disc}}}{\var{n3}} &=& \frac{\var{n1} + \var{n4} }{\var{n3}} &=& \simplify{{n1 + n4}/ {n3}}
\end{eqnarray}\]

Next Method: Completing the square.

First we complete the square for the quadratic expression $\simplify{{a*b}x^2+{-n1}x+{c*d}}$
\[\begin{eqnarray}
\simplify{{a*b}x^2+{-n1}x+{c*d}}&=&\var{n5}\left(\simplify{x^2+({-n1}/{a*b})x+ {c*d}/{a*b}}\right)\\
&=&\var{n5}\left(\left(\simplify{x+({-n1}/{2*a*b})}\right)^2+ \simplify{{c*d}/{a*b}-({-n1}/({2*a*b}))^2}\right)\\
&=&\var{n5}\left(\left(\simplify{x+({-n1}/{2*a*b})}\right)^2 -\simplify{ {n2^2}/{4*(a*b)^2}}\right)
\end{eqnarray}
\]
So to solve $\simplify{{a*b}x^2+{-n1}x+{c*d}}=0$ we have to solve:
\[\begin{eqnarray}
\left(\simplify{x+({-n1}/{2*a*b})}\right)^2&\phantom{{}}& -\simplify{ {n2^2}/{4*(a*b)^2}}=0\Rightarrow\\
\left(\simplify{x+({-n1}/{2*a*b})}\right)^2&\phantom{{}}&=\simplify{ {n2^2}/{4*(a*b)^2}=({abs(n2)}/{2*a*b})^2}
\end{eqnarray}\]
So we get the two {rep} solutions:
\[\begin{eqnarray}
\simplify{x+({-n1}/{2*a*b})}&=&\simplify{-{abs(n2)}/{2*a*b}} \Rightarrow  &x& = \simplify{({-abs(n2)+n1}/{2*a*b})}\\
\simplify{x+({-n1}/{2*a*b})}&=&\simplify{({abs(n2)}/{2*a*b})} \Rightarrow &x& = \simplify{({n1+abs(n2)}/{2*a*b})}
\end{eqnarray}\]
"""
		}
	]		
}		